<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AthensDiaLingCorpus - Secure Access</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #333;
        }
        
        /* Login Screen */
        #loginScreen {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            text-align: center;
            max-width: 400px;
            width: 90%;
        }
        
        #loginScreen h1 {
            color: #1e3c72;
            margin-bottom: 10px;
        }
        
        #loginScreen p {
            color: #666;
            margin-bottom: 30px;
        }
        
        .password-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1.1em;
            margin-bottom: 20px;
            transition: border-color 0.3s;
        }
        
        .password-input:focus {
            outline: none;
            border-color: #1e3c72;
        }
        
        .login-btn {
            width: 100%;
            padding: 15px;
            background: #1e3c72;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .login-btn:hover {
            background: #2a5298;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .error-message {
            color: #d32f2f;
            margin-top: 15px;
            display: none;
        }
        
        /* Main Content (hidden initially) */
        #mainContent {
            display: none;
            width: 100%;
            min-height: 100vh;
            background: #f5f7fa;
        }
        
        /* Copy all the styles from the previous full hub here */
        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 60px 20px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 3em;
            margin-bottom: 15px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .welcome-section {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 50px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }
        
        .action-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .action-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }
        
        .logout-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid white;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            z-index: 1000;
        }
        
        .logout-btn:hover {
            background: white;
            color: #1e3c72;
        }
        
        /* Security indicator */
        .security-badge {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: #4caf50;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9em;
            z-index: 1000;
        }
        
        .modules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }
        
        .module {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            margin: 5px;
        }
        
        .btn-primary {
            background: #1e3c72;
            color: white;
        }
        
        .btn-primary:hover {
            background: #2a5298;
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen">
        <h1>üèõÔ∏è AthensDiaLingCorpus</h1>
        <p>Secure Research Platform</p>
        
        <form onsubmit="checkPassword(event)">
            <input 
                type="password" 
                id="passwordInput" 
                class="password-input" 
                placeholder="Enter access password"
                autocomplete="off"
            >
            <button type="submit" class="login-btn">Access Platform</button>
        </form>
        
        <div id="errorMessage" class="error-message">
            Incorrect password. Please try again.
        </div>
    </div>
    
    <!-- Main Content (hidden until login) -->
    <div id="mainContent">
        <!-- Logout Button -->
        <button class="logout-btn" onclick="logout()">üîí Logout</button>
        
        <!-- Security Badge -->
        <div class="security-badge">
            <span>üîí</span>
            <span>Secure Session</span>
        </div>
        
        <!-- Header -->
        <div class="header">
            <h1>üèõÔ∏è AthensDiaLingCorpus</h1>
            <p>Your Complete Diachronic Linguistics Research Platform</p>
        </div>
        
        <div class="container">
            <!-- Welcome Section -->
            <div class="welcome-section">
                <h2>üåü Welcome! You're in Your Secure Research Space</h2>
                <p>Everything here is password-protected. Your research is safe!</p>
            </div>
            
            <!-- Quick Actions -->
            <div class="quick-actions">
                <div class="action-card" onclick="alert('Opening Text Collector...')">
                    <div style="font-size: 3em;">üìö</div>
                    <h3>Collect Texts</h3>
                    <p>Add to your corpus</p>
                </div>
                
                <div class="action-card" onclick="alert('Opening Parser...')">
                    <div style="font-size: 3em;">üîç</div>
                    <h3>Parse & Analyze</h3>
                    <p>Process your texts</p>
                </div>
                
                <div class="action-card" onclick="alert('Opening Data Manager...')">
                    <div style="font-size: 3em;">üíæ</div>
                    <h3>Manage Data</h3>
                    <p>Organize your research</p>
                </div>
                
                <div class="action-card" onclick="alert('Opening Reports...')">
                    <div style="font-size: 3em;">üìä</div>
                    <h3>View Reports</h3>
                    <p>See your progress</p>
                </div>
            </div>
            
            <!-- Your Modules -->
            <h2>üß© Your Research Modules</h2>
            <div class="modules-grid">
                <div class="module">
                    <h3>üìö Text Collector</h3>
                    <p>Collect texts from Perseus, Archive.org, and more</p>
                    <button class="btn btn-primary">Open Collector</button>
                </div>
                
                <div class="module">
                    <h3>üîç LavidasParser</h3>
                    <p>Parse Greek, Latin, and other ancient texts</p>
                    <button class="btn btn-primary">Start Parsing</button>
                </div>
                
                <div class="module">
                    <h3>üåê GlossaContactLab</h3>
                    <p>Analyze language contact and interference</p>
                    <button class="btn btn-primary">Open Lab</button>
                </div>
                
                <div class="module">
                    <h3>üå≥ PROIEL Processor</h3>
                    <p>Work with treebank data</p>
                    <button class="btn btn-primary">Process Treebank</button>
                </div>
                
                <div class="module">
                    <h3>üè∫ Greek Project</h3>
                    <p>Specialized Greek diachronic tools</p>
                    <button class="btn btn-primary">Open Project</button>
                </div>
                
                <div class="module">
                    <h3>üìÅ Data Manager</h3>
                    <p>Organize and backup your research</p>
                    <button class="btn btn-primary">Manage Files</button>
                </div>
            </div>
            
            <!-- Private Notes Section -->
            <div style="background: #fff3cd; padding: 30px; border-radius: 15px; margin: 40px 0;">
                <h3>üìù Your Private Research Notes</h3>
                <p>This section is only visible when logged in. Add your personal notes, ideas, and observations here.</p>
                <textarea 
                    id="privateNotes" 
                    style="width: 100%; height: 200px; margin-top: 20px; padding: 15px; border: 2px solid #ffc107; border-radius: 10px;"
                    placeholder="Your private notes... (saved locally in your browser)"
                ></textarea>
                <button class="btn btn-primary" onclick="saveNotes()">Save Notes</button>
            </div>
        </div>
    </div>
    
    <script>
        // Password configuration
        // IMPORTANT: Change this password!
        const PASSWORD_HASH = 'athens2025'; // In production, use a proper hash
        
        // Session management
        const SESSION_KEY = 'athensDiaLingCorpusSession';
        const SESSION_DURATION = 60 * 60 * 1000; // 1 hour
        
        // Check if user has valid session on load
        window.onload = function() {
            checkSession();
            loadNotes();
        };
        
        function checkPassword(event) {
            event.preventDefault();
            
            const password = document.getElementById('passwordInput').value;
            
            // Simple password check (in production, use proper hashing)
            if (password === PASSWORD_HASH) {
                // Create session
                const sessionData = {
                    timestamp: Date.now(),
                    valid: true
                };
                localStorage.setItem(SESSION_KEY, JSON.stringify(sessionData));
                
                // Show main content
                showMainContent();
            } else {
                // Show error
                document.getElementById('errorMessage').style.display = 'block';
                document.getElementById('passwordInput').value = '';
                
                // Hide error after 3 seconds
                setTimeout(() => {
                    document.getElementById('errorMessage').style.display = 'none';
                }, 3000);
            }
        }
        
        function checkSession() {
            const sessionData = localStorage.getItem(SESSION_KEY);
            
            if (sessionData) {
                const session = JSON.parse(sessionData);
                const now = Date.now();
                
                // Check if session is still valid
                if (session.valid && (now - session.timestamp) < SESSION_DURATION) {
                    showMainContent();
                } else {
                    // Session expired
                    localStorage.removeItem(SESSION_KEY);
                }
            }
        }
        
        function showMainContent() {
            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('mainContent').style.display = 'block';
            document.body.style.alignItems = 'flex-start';
            document.body.style.background = '#f5f7fa';
        }
        
        function logout() {
            // Clear session
            localStorage.removeItem(SESSION_KEY);
            
            // Reload page to show login
            location.reload();
        }
        
        // Auto-logout after session duration
        setTimeout(() => {
            const sessionData = localStorage.getItem(SESSION_KEY);
            if (sessionData) {
                alert('Session expired. Please log in again.');
                logout();
            }
        }, SESSION_DURATION);
        
        // Private notes functionality
        function saveNotes() {
            const notes = document.getElementById('privateNotes').value;
            localStorage.setItem('athensDiaLingCorpusNotes', notes);
            alert('Notes saved locally! They will persist even after logout.');
        }
        
        function loadNotes() {
            const savedNotes = localStorage.getItem('athensDiaLingCorpusNotes');
            if (savedNotes && document.getElementById('privateNotes')) {
                document.getElementById('privateNotes').value = savedNotes;
            }
        }
        
        // Prevent right-click (optional security)
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            return false;
        });
        
        // Warning before leaving
        window.addEventListener('beforeunload', function (e) {
            if (document.getElementById('mainContent').style.display === 'block') {
                e.preventDefault();
                e.returnValue = '';
            }
        });
    </script>
</body>
</html>
